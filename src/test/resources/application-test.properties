# Step 2: Configure H2 DB for Tests
# H2 in-memory database for testing

########################################
# H2 Database Configuration for Tests
########################################
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

########################################
# Hibernate / JPA Configuration
########################################
# Do NOT let Hibernate auto-create tables (we use schema.sql)   (For auto-create use this=> create-drop)
spring.jpa.hibernate.ddl-auto=none

# Show executed SQL in console, If we want to see actual SQL logs during test execution, add below two lines
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Defer initialization until after datasource is ready
spring.jpa.defer-datasource-initialization=true

########################################
# Schema and Data Initialization
########################################
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql

########################################
# Logging for SQL Scripts (schema.sql / data.sql)
########################################
logging.level.org.springframework.jdbc.datasource.init.ScriptUtils=DEBUG
logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG

########################################
# H2 Console (optional, useful for debugging)
########################################
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console





